<div class='container px-5 px-sm-0'>
  <div class='row'>

<div>
<p>グループメンバー管理</p>
<%= link_to "groups",groups_path %> 
<%= link_to "members",members_path %> 
</div>

<p id="notice"><%= notice %></p>

<h1><%= @group.name %>のメンバー一覧</h1>
<h2>グループに参加中のメンバー</h2>
  <table class='table table-hover table-inverse'>
      
   <tbody>

      <% @group.group_members.each do |group_member| %>
        <tr>
         <td><strong>Name:</strong>
         <%= group_member.member.name %></td>
         <td><strong>Role:</strong>
         <%= group_member.role %></td>
         <td><%= button_to '脱退' , group_members_path(group_id: @group, member_id: group_member.member), method: :delete, class: "btn btn-sm btn-success" %></td>
      <% end %>

       </tr>

    </tbody>
  </table>

<%= button_to "幹事設定する", group_random_role_path(@group), method: :patch %>

 <h2>グループに未参加中のメンバー</h2>
      <table class='table table-hover table-inverse'>
        <thead>
          <tr>
            <th>Name</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <tbody>
          <% @non_group_members.each do |member| %>
          <tr>
             <td><%= member.name %></td>
             <td><%= button_to '参加' , group_members_path(group_id: @group, member_id: member), method: :post, class: "btn btn-sm btn-success" %></td>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

<%= link_to 'Edit', edit_group_path(@group) %> |
<%= link_to 'Back', groups_path %>
